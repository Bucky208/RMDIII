<main class="container">
  <header>
    <h1 class="hidden">Interactie Piano game using three.js, midi.js and WebAudioContext</h1>
  </header>
  <div class="append">

  </div>
</main>

<h1>Music Player Demo</h1>
    <h2 id="songtitle"></h2>
    <div class="btn-group" role="group" aria-label=".. .">
      <button type="button" class="btn btn-default" id="play">
        <span class="glyphicon glyphicon-play" aria-hidden="true"></span>
      </button>
      <button type="button" class="btn btn-default" id="stop">
        <span class="glyphicon glyphicon-stop" aria-hidden="true"></span>
      </button>
    </div>

{{#section 'scripts'}}
  <!-- midi package -->
        <script src="http://maximdegroote.be/js/base64binary.js" type="text/javascript"></script>

        <script src="http://maximdegroote.be/js/MIDI/AudioDetect.js" type="text/javascript"></script>
        <script src="http://maximdegroote.be/js/MIDI/LoadPlugin.js" type="text/javascript"></script>
        <script src="http://maximdegroote.be/js/MIDI/Plugin.js" type="text/javascript"></script>
        <script src="http://maximdegroote.be/js/MIDI/Player.js" type="text/javascript"></script>

        <script src="http://maximdegroote.be/js/Window/DOMLoader.script.js" type="text/javascript"></script>

        <!-- jasmid package -->
        <script src="http://maximdegroote.be/js/jasmid/stream.js"></script>
        <script src="http://maximdegroote.be/js/jasmid/midifile.js"></script>
        <script src="http://maximdegroote.be/js/jasmid/replayer.js"></script>

        <script type="text/javascript" src="http://maximdegroote.be/js/dat.gui.js"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r73/three.js"></script>
  <script src="/js/script.js"></script>

  <script type="text/javascript">
            var currentsong = "game_of_thrones.mid";

            var playButton = document.getElementById('play');

                playButton.addEventListener('click', function() {
                    playButton.style.backgroundColor = "lightgray";
                MIDI.Player.resume();
            }, false);

            var stopButton = document.getElementById('stop');

                stopButton.addEventListener('click', function() {
                MIDI.Player.stop();
                playButton.style.backgroundColor = "white";
            }, false);


            window.onload = function ()
            {
                MIDI.loadPlugin(function ()
                {
                    //autostart MIDI.Player.loadFile(song[0], MIDI.Player.start);
                    MIDI.Player.loadFile("midi/" + currentsong, MIDI.Player.start);
                    MIDI.Player.timeWarp = 1.0;
                    MIDI.Player.loadFile("midi/" + currentsong);
                    var songnameElement = document.getElementById("songtitle");
                    songnameElement.innerHTML = currentsong;
                });
            };
        </script>
{{/section}}
